<!-- Se incluye el layout de header -->
<%- include('layouts/header') %>

<div class="row border-bottom white-bg dashboard-header">
    <div class="col-md-3">
        <h2>Bienvenido <%= name %></h2>
    </div>
    <div class="col-md-9">
        <img alt="image" class="logo-img" src="/img/ISOTIPO_V1_ATINA.png"/>
    </div>
</div>

<div class="row container">
    <div class="col-lg-10">
        <h3>Prima Totales Ingresadas: <%= totalPremium %> USD</h3>
        <h3>Comisiones Generadas: <%= totalCommission %> USD</h3>
    </div>
</div>

<div class="row">
    <div class="col-lg-6">
        <div class="ibox ">
            <div class="ibox-title">
                <h5>Prima Cobradas por Aseguradoras</h5>
            </div>
            <div class="ibox-content">
                <div id="ct-chart3" class="ct-perfect-fourth"></div>
            </div>
        </div>
    </div>
    <div class="col-lg-6">
        <div class="ibox ">
            <div class="ibox-title">
                <h5>Prima por AP</h5>
            </div>
            <div class="ibox-content">
                <div id="ct-chart4" class="ct-perfect-fourth"></div>
            </div>
        </div>
    </div>
</div>

<div class="row container">
    <div class="col-lg-10">
        <h3>Número de Póliza por ramo:</h3>
        <ul class="list-group">
            <li class="list-group-item">
                Salud: <%= healthPolicyCount.health %> 
            </li>
            <li class="list-group-item">
                Automovil: <%= autoPolicyCount.auto %>
            </li>
            <li class="list-group-item">
                Patrimoniales: <%= patrimonialPolicyCount.patrimonial %>
            </li>
        </ul>
    </div>
</div>

</br>
</br>
</br>
<div class="footer">
    <div class="float-right">
        10GB of <strong>250GB</strong> Free.
    </div>
    <div>
        <strong>Copyright</strong> Example Company &copy; 2014-2018
    </div>
</div>
    

    <!-- Mainly scripts -->
    <script src="/js/jquery-3.1.1.min.js"></script>
    <script src="/js/jquery-2.1.1.js"></script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.js"></script>
    <script src="/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <!-- Flot -->
    <script src="/js/plugins/flot/jquery.flot.js"></script>
    <script src="/js/plugins/flot/jquery.flot.tooltip.min.js"></script>
    <script src="/js/plugins/flot/jquery.flot.spline.js"></script>
    <script src="/js/plugins/flot/jquery.flot.resize.js"></script>
    <script src="/js/plugins/flot/jquery.flot.pie.js"></script>

    <!-- Peity -->
    <script src="/js/plugins/peity/jquery.peity.min.js"></script>
    <script src="/js/demo/peity-demo.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="/js/inspinia.js"></script>
    <script src="/js/plugins/pace/pace.min.js"></script>

    <!-- jQuery UI -->
    <script src="/js/plugins/jquery-ui/jquery-ui.min.js"></script>

    <!-- GITTER -->
    <script src="/js/plugins/gritter/jquery.gritter.min.js"></script>

    <!-- Sparkline -->
    <script src="/js/plugins/sparkline/jquery.sparkline.min.js"></script>

    <!-- Sparkline demo data  -->
    <script src="/js/demo/sparkline-demo.js"></script>

    <!-- ChartJS-->
    <script src="/js/plugins/chartJs/Chart.min.js"></script>

    <!-- Toastr -->
    <script src="/js/plugins/toastr/toastr.min.js"></script>

    <!-- DataTables -->
    <script src="/js/plugins/dataTables/datatables.min.js"></script>
    <script src="/js/plugins/dataTables/dataTables.bootstrap4.min.js"></script>`

    <!-- Chartist -->
    <script src="/js/plugins/chartist/chartist.min.js"></script>

    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        var insurer = <%- JSON.stringify(insurers) %>;
        var insurerPremium = <%- JSON.stringify(InsurersPremium) %>;
        var ownAgent = <%- JSON.stringify(ownAgents) %>;
        var ownAgentComission = <%- JSON.stringify(ownAgentsComission) %>;
        $(document).ready(function(){

            // Stocked bar chart

            new Chartist.Bar('#ct-chart3', {
                labels: insurer,
                series: [
                    insurerPremium
                ]
            }, {
                stackBars: true,
                axisY: {
                    labelInterpolationFnc: function(value) {
                        return '$' + (value / 500);
                    }
                }
            }).on('draw', function(data) {
                        if(data.type === 'bar') {
                            data.element.attr({
                                style: 'stroke-width: 30px'
                            });
                        }
                    });
                    
            // Stocked horizontal bar

            new Chartist.Bar('#ct-chart4', {
                labels: ownAgent,
                series: [
                    ownAgentComission
                ]
            }, {
                seriesBarDistance: 10,
                reverseData: true,
                horizontalBars: true,
                axisY: {
                    offset: 70
                }
            });

        });
    </script>

</body>

</html>